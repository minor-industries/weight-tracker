<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weight Tracker</title>
    <style>
        table {
            border-collapse: collapse;
            border: 2px solid #ccc;
        }

        th, td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #f2f2f2;
        }

        .center {
            text-align: center;
            font-style: italic;
        }
    </style>
</head>
<body>
<form action="{{.action}}" method="post">
    <div>
        <input type="hidden" name="id" value="{{.id}}"/>
        <label>
            weight
            <input name="weight"/>
        </label>
    </div>

    <div>
        <input type="radio" id="kg" name="unit" value="kg" checked="checked">
        <label for="kg">kg</label><br>

        <input type="radio" id="lbs" name="unit" value="lbs">
        <label for="lbs">lbs</label><br>
    </div>
</form>

<div>
    <img src="weight.svg"/>
</div>

<div>
    (<a href="weight.svg?months=9999">view all</a>)
</div>

<table>
    <tr>
        <th>Time</th>
        <th>Day</th>
        <th>Weight</th>
        <th>Delta</th>

    </tr>
    {{$data := .data}}
    {{range $i, $d := .data}}
    <tr>
        <td>{{Localtime $d}}</td>
        <td>{{DateOfWeek $d}}</td>
        <td>{{FmtWeight $d.Weight}}</td>
        <td>{{Delta $data $i}}</td>
    </tr>
    {{$missing := DaysMissing $data $i}}
    {{if $missing}}
    <tr>
        <td class="center" colspan="4">{{$missing}}</td>
    </tr>
    {{end}}
    {{end}}
</table>


<hr>
{{.date}}

</body>
</html>